[{"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\users\\addUser.js":"1","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\components\\Users\\Users.js":"2","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\store\\constants\\users.js":"3","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\store\\reducers\\users.js":"4","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\containers\\App.js":"5","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\store\\actions\\setHidden.js":"6","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\users\\setupListeners.js":"7","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\components\\FeatureTitle\\FeatureTitle.js":"8","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\feature\\setupListeners.js":"9","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\setHidden.js":"10","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\setupListeners.js":"11","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\components\\Users\\User\\User.js":"12"},{"size":411,"mtime":1609085748320,"results":"13","hashOfConfig":"14"},{"size":2956,"mtime":1609085848801,"results":"15","hashOfConfig":"14"},{"size":205,"mtime":1609076142327,"results":"16","hashOfConfig":"14"},{"size":1014,"mtime":1609076301860,"results":"17","hashOfConfig":"14"},{"size":1567,"mtime":1609085678131,"results":"18","hashOfConfig":"14"},{"size":543,"mtime":1609079149303,"results":"19","hashOfConfig":"14"},{"size":954,"mtime":1609085790128,"results":"20","hashOfConfig":"14"},{"size":820,"mtime":1609080667608,"results":"21","hashOfConfig":"14"},{"size":440,"mtime":1609081339796,"results":"22","hashOfConfig":"14"},{"size":432,"mtime":1609082383561,"results":"23","hashOfConfig":"14"},{"size":374,"mtime":1609085820286,"results":"24","hashOfConfig":"14"},{"size":903,"mtime":1609062202085,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"qy10gp",{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\users\\addUser.js",["51"],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\components\\Users\\Users.js",["52","53"],"import User from \"./User/User\";\r\nimport Button from \"../Button/Button\";\r\nimport Card from \"../Card/Card\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\n\r\n// Actions imports\r\nimport addUser from \"../../store/actions/users/addUser\";\r\nimport setHidden from \"../../store/actions/setHidden\";\r\n\r\n// Listeners imports\r\nimport setupRootStateListeners from \"../../firebase/setupListeners\";\r\nimport setupFeatureListeners from \"../../firebase/feature/setupListeners\";\r\nimport setupUsersListeners from \"../../firebase/users/setupListeners\";\r\n\r\nconst Users = props => {\r\n\tconst dispatch = useDispatch();\r\n\tconst state = useSelector(state => state.users);\r\n\r\n\tconst currentUserId = JSON.parse(localStorage.getItem(\"userId\"));\r\n\r\n\t// Default user creation handling\r\n\tuseEffect(() => {\r\n\t\tconst createDefaultUser = () => {\r\n\t\t\tconst suffix = Math.random().toString(20).substr(2, 6);\r\n\r\n\t\t\tconst payload = {\r\n\t\t\t\tusername: `user_${suffix}`\r\n\t\t\t};\r\n\r\n\t\t\tdispatch(addUser(payload));\r\n\t\t};\r\n\r\n\t\t// Create a user if there is not one\r\n\t\tif (currentUserId === null) createDefaultUser();\r\n\t}, []);\r\n\r\n\t// Setting up listeners\r\n\tuseEffect(() => {\r\n\t\tdispatch(setupUsersListeners());\r\n\t\tdispatch(setupRootStateListeners());\r\n\t\tdispatch(setupFeatureListeners());\r\n\r\n\t\treturn () => {\r\n\t\t\t// Detach listeners\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst revealVotes = () => {\r\n\t\tdispatch(setHidden(false));\r\n\t};\r\n\r\n\tconst loadingMsg = currentUserId\r\n\t\t? \"Loading users...\"\r\n\t\t: \"Generating default user...\";\r\n\r\n\t// Duplicating users array to avoid mutating state reference\r\n\tlet { users } = state;\r\n\r\n\t// Create sorted list only if needed (for performance reasons)\r\n\tif (state.hidden === false) {\r\n\t\tusers = users.sort((prev, next) => {\r\n\t\t\tconst [prevId] = Object.keys(prev);\r\n\t\t\tconst [nextId] = Object.keys(next);\r\n\r\n\t\t\treturn next[nextId].vote - prev[prevId].vote;\r\n\t\t});\r\n\t}\r\n\r\n\tlet usersList = users.map(user => {\r\n\t\t// Extracting firebase id (object key)\r\n\t\tconst [userId] = Object.keys(user);\r\n\r\n\t\treturn (\r\n\t\t\t<li className=\"py-4\" key={userId}>\r\n\t\t\t\t<User\r\n\t\t\t\t\tname={user[userId].username}\r\n\t\t\t\t\tvote={user[userId].vote}\r\n\t\t\t\t\town={currentUserId === userId}\r\n\t\t\t\t/>\r\n\t\t\t</li>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Card className=\"my-10\">\r\n\t\t\t<div className=\"bg-white px-4 py-5 border-b border-gray-200 sm:px-6\">\r\n\t\t\t\t<div className=\"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-nowrap\">\r\n\t\t\t\t\t<div className=\"ml-4 mt-2\">\r\n\t\t\t\t\t\t<h3 className=\"text-lg leading-6 font-medium text-gray-900\">\r\n\t\t\t\t\t\t\tParticipants\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ml-4 mt-2 flex-shrink-0\">\r\n\t\t\t\t\t\t<Button title=\"Reveal!\" handleClick={revealVotes} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"px-4 py-5 sm:p-3\">\r\n\t\t\t\t<div className=\"flow-root\">\r\n\t\t\t\t\t<ul className=\"divide-y divide-gray-200\">\r\n\t\t\t\t\t\t{state.users.length ? usersList : loadingMsg}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default Users;\r\n","C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\store\\constants\\users.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\store\\reducers\\users.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\containers\\App.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\store\\actions\\setHidden.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\users\\setupListeners.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\components\\FeatureTitle\\FeatureTitle.js",["54","55"],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\feature\\setupListeners.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\setHidden.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\firebase\\setupListeners.js",[],"C:\\Users\\Manos\\Desktop\\coding_work\\scrum-voting-app\\src\\components\\Users\\User\\User.js",[],{"ruleId":"56","severity":1,"message":"57","line":1,"column":10,"nodeType":"58","messageId":"59","endLine":1,"endColumn":18},{"ruleId":"60","severity":1,"message":"61","line":37,"column":5,"nodeType":"62","endLine":37,"endColumn":7,"suggestions":"63"},{"ruleId":"60","severity":1,"message":"64","line":48,"column":5,"nodeType":"62","endLine":48,"endColumn":7,"suggestions":"65"},{"ruleId":"56","severity":1,"message":"66","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":25},{"ruleId":"56","severity":1,"message":"67","line":1,"column":27,"nodeType":"58","messageId":"59","endLine":1,"endColumn":36},"no-unused-vars","'ADD_USER' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUserId' and 'dispatch'. Either include them or remove the dependency array.","ArrayExpression",["68"],"React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["69"],"'useState' is defined but never used.","'useEffect' is defined but never used.",{"desc":"70","fix":"71"},{"desc":"72","fix":"73"},"Update the dependencies array to be: [currentUserId, dispatch]",{"range":"74","text":"75"},"Update the dependencies array to be: [dispatch]",{"range":"76","text":"77"},[1119,1121],"[currentUserId, dispatch]",[1341,1343],"[dispatch]"]